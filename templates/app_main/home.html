{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="page-wrapper">
    <div class="content-wrapper">
        <!-- Map Section -->
        <div class="mapbox">
            <div id="map"></div>
        </div>
<hr class="section-divider">

        <!-- Layout Section -->
        <div class="metrobox">
            <div class="big">
                <h3>Local Election 2079</h3>
                <div class="card-container">
                    <!-- Mayor / Chairperson Card -->
                    <div class="card">
                      <h2>Mayor / Chairperson</h2>
                      <hr>
                      <div class="table-header">
                        <span>Party</span>
                        <span>Win</span>
                        <span>Lead</span>
                      </div>
                      {% for party, data in mayor_party_count.items %}
                      <div class="party-row">
                        <img src="{{data.logo}}" alt="party">
                        <div class="party-info">
                          <span>{{party}}</span>
                          <div class="bar green" style="width:{% widthratio data.count total_units_count 100 %}%;"></div>
                        </div>
                        <span>{{data.count}}</span>
                        <span>0</span>
                      </div>
                      {% endfor %}
                      <!-- Add other parties the same way -->
                    </div>
                
                    <!-- Deputy Mayor / Vice-Chairperson Card -->
                    <div class="card">
                      <h2>Deputy Mayor / Vice-Chairperson</h2>
                      <hr>
                      <div class="table-header">
                        <span>Party</span>
                        <span>Win</span>
                        <span>Lead</span>
                      </div>
                      {% for party, data in Dmayor_party_count.items %}
                      <div class="party-row">
                        <img src="{{data.logo}}" alt="NC">
                        <div class="party-info">
                          <span>{{party}}</span>
                          <div class="bar green" style="width:{% widthratio data.count total_units_count 100 %}%;"></div>
                        </div>
                        <span>{{data.count}}</span>
                        <span>0</span>
                      </div>
                      {% endfor %}
                    </div>
                  </div>
            </div>
        
<hr class="section-divider">

        <div class="metrobox">
            <!-- Metropolitan -->
            <div class="big-B">
                <div><h3>Metropolitan</h3></div>
                <div class="small-S">
                    <a href="#" class="toggle-position active active-position" data-type="mayor">Mayor</a>
                    <a href="#" class="toggle-position" data-type="dmayor"><p>Deputy Mayor</p></a>
                </div>
            </div>
        
            <div class="flexbox" id="metro-flexbox">
                {% include 'mayor_Dmayor.html' with data=top2_metro_mayor %}
            </div>


            <hr class="section-divider">


            <!-- Submetropolitan -->
            <div class="big-B">
                <h3>Submetropolitan</h3>
                <div class="small-S">
                    <a href="#" class="sub-toggle-position active active-position" data-type="mayor">Mayor</a>
                    <a href="#" class="sub-toggle-position" data-type="dmayor"><p>Deputy Mayor</p></a>
                </div>
            </div>
        
            <div class="flexbox" id="submetro-flexbox">
                {% include 'mayor_Dmayor.html' with data=top2_submetro_mayor %}
            </div>
        </div>
        
<hr class="section-divider">

<div class="chartbox">
    <div class="big">
      <h3>Province Results</h3>
    </div>
  
    <div class="province-container" id="province-container">
      <!-- Cards will be injected dynamically by JS -->
    </div>
  </div>
    </div>
</div>


<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!--  custom JS -->
<script src="{% static 'js/home.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

<!-- bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js"
    integrity="sha384-VQqxDN0EQCkWoxt/0vsQvZswzTHUVOImccYmSyhJTp7kGtPed0Qcx8rK9h9YEgx+"
    crossorigin="anonymous"></script>

<!-- Chart.js JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


{% endblock %}












